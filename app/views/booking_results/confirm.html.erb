<div class="booking-confirm-container">

  <h2>予約内容の確認</h2>

  <%= form_with model:@booking_result, url: booking_results_path, method: :push do |f| %>

    <div class="booking-confirm-wrapper">
      <%= f.label :start_date, "チェックイン", class: "booking-confirm-label" %>
      <p class="booking-confirm-value"><%= @booking_result.start_date.strftime("%Y/%m/%d") %></p>
      <%= f.hidden_field :start_date, value: @booking_result.start_date %>
    </div>

    <div class="booking-confirm-wrapper">
      <%= f.label :end_date, "チェックアウト", class: "booking-confirm-label" %>
      <p class="booking-confirm-value"><%= @booking_result.end_date.strftime("%Y/%m/%d") %></p>
      <%= f.hidden_field :end_date, value: @booking_result.end_date %>
    </div>

    <div class="booking-confirm-wrapper">
      <% number_of_days = @booking_result.end_date - @booking_result.start_date %>
      <p class="booking-confirm-label">日数</p>
      <p class="booking-confirm-value"><%= number_of_days.to_i %>日</p>
    </div>

    <div class="booking-confirm-wrapper">
      <p class="booking-confirm-label">人数</p>
      <p class="booking-confirm-value"><%= @booking_result.number_of_people %>人</p>
    </div>

    <div class="booking-confirm-wrapper">
      <% @booking_result.total_price = @hotel.unit_price * number_of_days * @booking_result.number_of_people %>
      <%= f.label :total_price, "お支払い金額", class: "booking-confirm-label" %>
      <%= f.number_field :total_price, value: @booking_result.total_price, readonly: true, class: "booking-confirm-input booking-confirm-input-price" %>
    </div>

    <%= f.hidden_field :number_of_people, value: @booking_result.number_of_people %>
    <%= f.hidden_field :user_id, value: @booking_result.user_id %>
    <%= f.hidden_field :hotel_id, value: @booking_result.hotel_id %>

    <p>上記内容でよろしければ「予約を確定」を押してください</p>

    <%= f.submit "予約を確定", class: "common-btn booking-confirm-btn" %>
    <%= link_to "キャンセル", hotel_path(@hotel), {class: "booking-confirm-cansel-btn"} %>


  <% end %>

</div>
